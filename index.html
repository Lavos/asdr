<!doctype html>
<html>
<head>
	<meta charset="utf-8"/>
	<title>library</title>

	<script type="text/javascript" src="http://cdn.extensions.buzznet.com/topscript.js.php?siteToken=PB"></script>

	<style type="text/css">

	</style>

	<script>	
		window['CLARITY'] = [];
	</script>
</head>

<body>
	<div class="actions">
		<button id="refresh">Refresh All Ads</button>
		<button class="refresh_one" data-ad-id="ad_728a">Refresh 728a</button>
		<button id="create">Insert New Ad</button>
	</div><!-- /.actions -->

	<fieldset class="static_ads">
		<legend>STATIC</legend>
		<div class="ad_desktop" id="ad_728a" data-sizes="[[728,90]]" data-position="728b" data-tile="2"></div>
		<div class="ad_desktop" id="ad_728a" data-out-of-page="true" data-position="xyz" data-tile="2"></div>
	</fieldset><!-- /.static_ads -->

	<fieldset class="dynamic_ads">
		<legend>DYNAMIC</legend>
	</fieldset><!-- /.dynamic_ads -->

	<script type="text/javascript">

		CLARITY.push({
			use: ['jquery', 'ads'],
			run: function($, Ads){
				Ads.site_code = 'buz.pitnb';
				Ads.zone = 'permalink';
				Ads.keywords = window.extensionsKeywords;

				// static ads
				// Ads.populate('.OMGAD');
				Ads.autoPopulate();
	
				// dynamic ads, immediately
				var new_div = document.createElement('div');
				$('.dynamic_ads').append(new_div);

				Ads.createAd({
					sizes: [[300,250], [300,600], [300,1050]],
					position: '300a',
					tile: 2,
					element: new_div
				});

				// dynamic ads, on demand
				$('#create').on('click', function(e){
					e.preventDefault();

					var new_div2 = document.createElement('div');
					$('.dynamic_ads').append(new_div2);

					Ads.createAd({
						sizes: [[300,600], [300,250]],
						position: '300a',
						tile: 1,
						element: new_div2	
					});
				});

				// ads-wide refresh
				$('#refresh').on('click', function(e){
					Ads.refresh();
				});

				$('.refresh_one').on('click', function(e){
					Ads.refresh($(this).data('ad-id'));
				});				
			}
		});
	</script>

	<script type="text/javascript">
		(function(){
			// window['CLARITY'] = [];
			var ns = document.createElement('script'), s = document.getElementsByTagName('script')[0];
			ns.async = true; ns.type = 'text/javascript'; ns.src = 'test.js'; s.parentNode.insertBefore(ns, s);
		})();
	</script>
</body>
</html>
